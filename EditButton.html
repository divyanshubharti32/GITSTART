<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>JS For Beginners</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
      <form onsubmit = "saveToLocalStorage(event)">
      
          <label> Name</label>
          <input type="text" name="username" required/>
          <label> EmailId</label>
          <input type="email" name="emailId" required/>
          <label> Phone Number</label>
          <input type ="tel" name="phonenumber" />
          <button> Submit</button>
      </form>

      <ul id="listOfItems"></ul>
    

<script>

function saveToLocalStorage(event) {
  event.preventDefault();
  var name = event.target.username.value;
  var email = event.target.emailId.value;
  var phonenumber = event.targetphonenumber.value;
  const obj = {
    name,
    email,
    phonenumber
  }
     localStorage.setItem(obj.email, JSON.stringify(obj))

     showUserOnScreen(obj)
}  
function showUserOnScreen(obj){

  const parentEle = document.getElementById('listOfItems')
  parentEle.innerHTML = parentEle.innerHTML + `<li> ${obj.name} - ${obj.email} - ${obj.phonenumber} </li>`;


  const deleteBbutton = document.createElement('input')
  deleteButton.type= "button"
  deleteButton.value='Delete'
  deleteButton.onClick = () => {  
    localStorage.removeItem(obj.email)
    parentEle.removeChild(childEle)
  }
  const editButton = document.createElement('input')
  editButton.type = "button";
  editButton.value = "Edit"
  editButton.onClick = () => {
    localStorage.removeItem(obj.email)
    parentEle.removeChild(childEle)
    document.getElementById("usernameInputTag").value = obj.name
    document.getElementById("emailInputTag").value = obj.email
    document.getElementById("phoneNumberInputTag").value = obj.phonenumber

  }
  childEle.appendChild(deleteButton)
  childEle.appendChild(editButton)
  parentEle.appendChild(childEle)
}

    </script>
  </body>
</html>
